<html><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="utf-8" lang="utf-8">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0" />
<title>å¼•ç”¨é€šå‘Šç±» - CodeIgniter ä¸­æ–‡æ‰‹å†Œ|ç”¨æˆ·æ‰‹å†Œ|ç”¨æˆ·æŒ‡å—|Wikiæ–‡æ¡£</title>
<link rel="shortcut icon" href="../../images/design/favicon.ico" tppabs="http://codeigniter.org.cn/images/design/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" media="all" href="../userguide.css" tppabs="http://codeigniter.org.cn/user_guide/userguide.css" />
<link rel="search" href="../../CodeIgniterSearch.xml" tppabs="http://codeigniter.org.cn/CodeIgniterSearch.xml" type="application/opensearchdescription+xml" title="CodeIgniter æœç´¢"/>
<link rel="canonical" href="trackback.html" tppabs="http://codeigniter.org.cn/user_guide/libraries/trackback.html" />
<script type="text/javascript" src="../nav/mootools.js-ver=20130324" tppabs="http://codeigniter.org.cn/user_guide/nav/mootools.js?ver=20130324"></script>
<script type="text/javascript" src="../nav/mootools-more.js-ver=20130324" tppabs="http://codeigniter.org.cn/user_guide/nav/mootools-more.js?ver=20130324"></script>
<script type="text/javascript" src="../nav/nav.js-ver=20130324" tppabs="http://codeigniter.org.cn/user_guide/nav/nav.js?ver=20130324"></script>
<script type="text/javascript" src="../nav/user_guide_menu.js-ver=20130324" tppabs="http://codeigniter.org.cn/user_guide/nav/user_guide_menu.js?ver=20130324"></script>
<meta name="robots" content="all" />
<meta name="author" content="ExpressionEngine Dev Team" />
<meta name="description" content="CodeIgniter ä¸­æ–‡æ‰‹å†Œ, CodeIgniter ç”¨æˆ·æŒ‡å—, CodeIgniter User Guide, Wiki æ–‡æ¡£" />
</head>
<body>
<!-- START NAVIGATION -->
<div id="nav">
  <div id="nav_inner">
    <script type="text/javascript">create_menu('http://codeigniter.org.cn/user_guide/');</script>
  </div>
</div>
<script type="text/javascript">_setNavigation();</script>
<div id="nav2"><a name="top"></a><a href="javascript:void(0);" onclick="myHeight.toggle();"><img src="../images/nav_toggle_darker.jpg" tppabs="http://codeigniter.org.cn/user_guide/images/nav_toggle_darker.jpg" width="154" height="43" border="0" title="åˆ‡æ¢ç›®å½•" alt="åˆ‡æ¢ç›®å½•" /></a></div>
<div id="masthead" class="clearfix">
    <div class="topbar-hd"><h1>CodeIgniter ç”¨æˆ·æŒ‡å— ç‰ˆæœ¬ 2.2.0</h1></div>
<div class="topbar-tip">ç¼–è¾‘æ–‡æ¡£ã€æŸ¥çœ‹è¿‘æœŸæ›´æ”¹è¯· <a href="javascript:if(confirm('http://codeigniter.org.cn/user_guide/auth/login  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÊÇ±»×Ô¶¯ÅÅ³ıËùÅÅ³ıµÄ¡£ (Äã²»Ò»¶¨ÒªÊ¹ÓÃ×Ô¶¯ÅÅ³ı£¬Çë²Î¿¼¡°ÏîÄ¿ÌØĞÔ¡±µÄ¡°ÍøÂçÀñ½Ú¡±¡£)  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.org.cn/user_guide/auth/login'" tppabs="http://codeigniter.org.cn/user_guide/auth/login">ç™»å½•</a> æˆ– <a href="javascript:if(confirm('http://codeigniter.org.cn/user_guide/auth/register  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÊÇ±»×Ô¶¯ÅÅ³ıËùÅÅ³ıµÄ¡£ (Äã²»Ò»¶¨ÒªÊ¹ÓÃ×Ô¶¯ÅÅ³ı£¬Çë²Î¿¼¡°ÏîÄ¿ÌØĞÔ¡±µÄ¡°ÍøÂçÀñ½Ú¡±¡£)  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.org.cn/user_guide/auth/register'" tppabs="http://codeigniter.org.cn/user_guide/auth/register">æ³¨å†Œ</a> ã€€<a href="javascript:if(confirm('http://codeigniter.org.cn/user_guide/auth/forgotten_password  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÊÇ±»×Ô¶¯ÅÅ³ıËùÅÅ³ıµÄ¡£ (Äã²»Ò»¶¨ÒªÊ¹ÓÃ×Ô¶¯ÅÅ³ı£¬Çë²Î¿¼¡°ÏîÄ¿ÌØĞÔ¡±µÄ¡°ÍøÂçÀñ½Ú¡±¡£)  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.org.cn/user_guide/auth/forgotten_password'" tppabs="http://codeigniter.org.cn/user_guide/auth/forgotten_password">æ‰¾å›å¯†ç </a></div>      <div id="breadcrumb_right"><a href="../toc.html" tppabs="http://codeigniter.org.cn/user_guide/toc.html">ç›®å½•é¡µ</a></div>
</div>
<!-- END NAVIGATION -->
<!-- START BREADCRUMB -->
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
  <tr>
    <td id="breadcrumb">
        <a href="javascript:if(confirm('http://codeigniter.org.cn/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.org.cn/'" tppabs="http://codeigniter.org.cn/" target="_blank">CodeIgniter ä¸­å›½é¦–é¡µ</a>&nbsp;&#8250;&nbsp;
<a href="../index.html" tppabs="http://codeigniter.org.cn/user_guide/index.html">ç”¨æˆ·æŒ‡å—é¦–é¡µ</a>&nbsp;&#8250;&nbsp;å¼•ç”¨é€šå‘Šç±»    </td>
    <td id="searchbox">
        <form method="get" action="http://www.google.com.hk/search" target="google_window">
        <input type="hidden" name="client" value="pub-0176846097796333"></input>
        <input type="hidden" name="forid" value="1"></input>
        <input type="hidden" name="ie" value="UTF-8"></input>
        <input type="hidden" name="oe" value="UTF-8"></input>
        <input type="hidden" name="as_sitesearch" id="as_sitesearch" value="codeigniter.org.cn/user_guide/" />
        æœç´¢ç”¨æˆ·æŒ‡å—&nbsp;
        <input type="text" class="input" style="width:200px;" name="q" id="q" size="31" maxlength="255" value="" />
        &nbsp;
        <input type="submit" class="submit" name="sa" value="Go" />
      </form>
    </td>
  </tr>
</table>
<!-- END BREADCRUMB -->
<div style="clear:both;text-align:right;padding: 6px 40px 0 0;">
<a href="javascript:if(confirm('http://ellislab.com/codeigniter/user-guide/libraries/trackback.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://ellislab.com/codeigniter/user-guide/libraries/trackback.html'" tppabs="http://ellislab.com/codeigniter/user-guide/libraries/trackback.html" target="_blank">æŸ¥çœ‹åŸæ–‡</a>
</div>
<!--<br clear="all" />--><!-- START CONTENT -->
<div id="content">
<h1>å¼•ç”¨é€šå‘Šç±»</h1>

<p>è¿™ä¸ªç±»æä¾›äº†ä¸€ç»„å‡½æ•°ä½¿ä½ èƒ½å¤Ÿå‘é€å’Œæ¥æ”¶å¼•ç”¨é€šå‘Šçš„æ•°æ®.</p>


<p>å¦‚æœä½ å¯¹å¼•ç”¨é€šå‘Šä¸å¤ªç†Ÿæ‚‰çš„è¯å¯ä»¥åœ¨<a href="javascript:if(confirm('http://en.wikipedia.org/wiki/Trackback  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://en.wikipedia.org/wiki/Trackback'" tppabs="http://en.wikipedia.org/wiki/Trackback">è¿™é‡Œ</a>æŸ¥çœ‹æ›´å¤šçš„ä¿¡æ¯.</p>

<h2>åˆå§‹åŒ–ç±»</h2>

<p>å’Œå…¶å®ƒå¤§å¤šæ•°ç±»ä¸€æ ·,Trackback ç±» ä¹Ÿæ˜¯ä½¿ç”¨<dfn>$this-&gt;load-&gt;library</dfn> function:</p>

<code>$this-&gt;load-&gt;library('trackback');</code>
<p>åŠ è½½å®Œæ¯•å,Trackback å¯¹è±¡å°±èƒ½å¤Ÿç”¨: <dfn>$this-&gt;trackback</dfn>æ–¹å¼ä½¿ç”¨.</p>


<h2>å‘é€å¼•ç”¨é€šå‘Š(Trackbacks)</h2>

<p>å¼•ç”¨é€šå‘Šå¯ä»¥ä»ä»»ä½•æ§åˆ¶å™¨å‡½æ•°ä¸­ä½¿ç”¨ä¸ç¤ºä¾‹ç›¸ä¼¼çš„ä»£ç æ¥å‘é€:</p>

<code>$this-&gt;load-&gt;library('trackback');<br />
<br />
$tb_data = array(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'ping_url'&nbsp;&nbsp;=> 'http://example.com/trackback/456',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'url'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=> 'http://www.my-example.com/blog/entry/123',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'title'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=> 'The Title of My Entry',<br />

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'excerpt'&nbsp;&nbsp;&nbsp;=> 'The entry content.',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'blog_name' => 'My Blog Name',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'charset'&nbsp;&nbsp;&nbsp;=> 'utf-8'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
<br />
if ( ! $this-&gt;trackback-&gt;send($tb_data))<br />
&#123;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo $this-&gt;trackback-&gt;display_errors();<br />

&#125;<br />
else<br />
&#123;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;echo 'Trackback was sent!';<br />
&#125;</code>

<p>æ•°ç»„æ•°æ®è¯´æ˜:</p>

<ul>
<li><strong>ping_url</strong> - ä½ æƒ³è¦å‘é€å¼•ç”¨é€šå‘Šçš„ç«™ç‚¹çš„URLã€‚è¦æŠŠå¼•ç”¨é€šå‘Šå‘é€è‡³å¤šä¸ªURLï¼Œè¯·å°†è¿™äº›URLç”¨é€—å·åˆ†éš”å¼€æ¥ã€‚</li>

<li><strong>url</strong> - èƒ½å¤Ÿæµè§ˆåˆ°ä½ ç«™ç‚¹ä¸Šçš„åšå®¢æ—¥å¿—çš„URLã€‚</li>
<li><strong>title</strong> - ä½ çš„åšå®¢æ—¥å¿—çš„æ ‡é¢˜ã€‚</li>
<li><strong>excerpt</strong> - ä½ çš„åšå®¢æ—¥å¿—çš„å†…å®¹ã€‚è¯´æ˜ï¼šå¼•ç”¨é€šå‘Šç±»åªä¼šè‡ªåŠ¨åœ°å‘é€æ—¥å¿—å†…å®¹çš„å‰500ä¸ªå­—ç¬¦ã€‚å®ƒè¿˜ä¼šå»é™¤æ‰€æœ‰çš„HTMLã€‚</li>
<li><strong>blog_name</strong> - ä½ çš„åšå®¢çš„åç§°ã€‚</li>
<li><strong>charset</strong> - ä½ çš„åšå®¢æ‰€ä½¿ç”¨çš„å­—ç¬¦ç¼–ç ã€‚å¦‚æœçœç•¥ï¼Œå°†ä¼šé»˜è®¤ä½¿ç”¨UTF-8ã€‚</li>

</ul>

<p>æ ¹æ®å‘é€çš„æˆåŠŸä¸å¦ï¼Œå¼•ç”¨é€šå‘Šå‘é€å‡½æ•°å°†åˆ†åˆ«è¿”å› TRUE/FALSE(å¸ƒå°”å€¼)ã€‚å¦‚æœå‘é€å¤±è´¥ï¼Œä½ å¯ä»¥é€šè¿‡ä¸‹é¢çš„æ–¹å¼è·å–åˆ°é”™è¯¯ä¿¡æ¯:</p>

<code>$this-&gt;trackback-&gt;display_errors();</code>


<h2>æ¥æ”¶å¼•ç”¨é€šå‘Š</h2>

<p>åœ¨æ¥æ”¶å¼•ç”¨é€šå‘Šä¹‹å‰ä½ å¿…é¡»å¾—åˆ›å»ºä¸€ä¸ªåšå®¢ã€‚å¦‚æœä½ è¿åšå®¢éƒ½æ²¡æœ‰ï¼Œé‚£å°±æ²¡æœ‰å¿…è¦ç»§ç»­ä¸‹å»äº†ã€‚</p>

<p>æ¥æ”¶å¼•ç”¨é€šå‘Šè¦æ¯”å‘é€å¤æ‚ä¸€ç‚¹ï¼Œè¿™ä»…ä»…æ˜¯å› ä¸ºä½ å°†éœ€è¦ä¸€ä¸ªæ•°æ®è¡¨æ¥å­˜å‚¨å®ƒä»¬ï¼Œè€Œä¸”ä½ è¿˜å¾—éªŒè¯å‘é€è¿‡æ¥çš„å¼•ç”¨é€šå‘Šæ•°æ®ã€‚æˆ‘ä»¬é¼“åŠ±ä½ å»å®ç°ä¸€ä¸ªå®Œæ•´çš„éªŒè¯è¿‡ç¨‹ï¼Œç›®çš„æ˜¯é˜²èŒƒåƒåœ¾ä¿¡æ¯å’Œé‡å¤æ•°æ®ã€‚ä½ ä¹Ÿè®¸è¿˜æƒ³é™åˆ¶æŸä¸ªç»™å®šçš„æ—¶é—´èŒƒå›´å†…æŸä¸ªç‰¹å®šIPæ‰€èƒ½å‘é€ç»™ä½ çš„å¼•ç”¨é€šå‘Šæ•°é‡ï¼Œè¿™æ ·å¯ä»¥é˜²èŒƒä»Šåçš„åƒåœ¾é‚®ä»¶ã€‚æ¥æ”¶å¼•ç”¨é€šå‘Šçš„å¤„ç†è¿‡ç¨‹æ˜¯å¾ˆç®€å•çš„ï¼›åªä¸è¿‡éªŒè¯è¿‡ç¨‹å ç”¨äº†å¤§éƒ¨åˆ†çš„å·¥ä½œé‡ã€‚</p>

<h2>ä½ çš„ Ping URL</h2>

<p>ä¸ºäº†æ¥å—å¼•ç”¨é€šå‘Šï¼Œä½ å¿…é¡»åœ¨æ¯ä¸ªåšå®¢æ—¥å¿—æ—è¾¹æ˜¾ç¤ºä¸€ä¸ªå¼•ç”¨é€šå‘ŠURLã€‚è¿™å°±æ˜¯äººä»¬å‘ä½ å‘é€å¼•ç”¨é€šå‘Šæ—¶ç”¨åˆ°çš„URL(æˆ‘ä»¬æŠŠè¿™ä¸ªç§°ä¸ºä½ çš„"Ping URL")ã€‚</p>

<p>ä½ çš„Ping URLå¿…é¡»æŒ‡å‘ä¸€ä¸ªåŒ…å«äº†å¼•ç”¨é€šå‘Šæ¥æ”¶ä»£ç çš„æ§åˆ¶å™¨ï¼Œè€Œä¸”URLä¹Ÿå¿…é¡»åŒ…å«æ¯ä¸ªç‰¹å®šçš„æ—¥å¿—æ¡ç›®çš„IDï¼Œå› æ­¤å½“ä½ æ¥æ”¶åˆ°å¼•ç”¨é€šå‘Šçš„æ—¶å€™ï¼Œä½ å°±èƒ½å¤Ÿå°†å®ƒä¸æŸç¯‡æ—¥å¿—å…³è”èµ·æ¥ã€‚</p>

<p>ä¾‹å¦‚ï¼Œå¦‚æœä½ çš„æ§åˆ¶å™¨ç±»å«åš <dfn>Trackback</dfn>ï¼Œæ¥æ”¶å‡½æ•°å«åš <dfn>receive</dfn>ï¼Œé‚£ä¹ˆä½ çš„Ping URLçœ‹èµ·æ¥åº”è¯¥æ˜¯è¿™æ ·çš„:</p>

<code>http://example.com/index.php/trackback/receive/<samp>entry_id</samp></code>

<p>å…¶ä¸­ <samp>entry_id</samp> ä»£è¡¨äº†ä½ çš„æ¯ç¯‡æ—¥å¿—å•ç‹¬çš„IDå·ã€‚</p>


<h2>åˆ›å»ºä¸€ä¸ªå¼•ç”¨é€šå‘Šè¡¨</h2>

<p>åœ¨æ¥æ”¶å¼•ç”¨é€šå‘Šä¹‹å‰ä½ å¿…é¡»åˆ›å»ºä¸€ä¸ªè¡¨æ¥å­˜å‚¨å®ƒä»¬ã€‚ ä¸‹é¢æ˜¯è¡¨çš„åŸºç¡€åŸå‹:</p>

<textarea class="textarea" style="width:100%" cols="50" rows="13">
CREATE TABLE trackbacks (
 tb_id int(10) unsigned NOT NULL auto_increment,
 entry_id int(10) unsigned NOT NULL default 0,
 url varchar(200) NOT NULL,
 title varchar(100) NOT NULL,
 excerpt text NOT NULL,
 blog_name varchar(100) NOT NULL,
 tb_date int(10) NOT NULL,
 ip_address varchar(16) NOT NULL,
 PRIMARY KEY `tb_id` (`tb_id`),
 KEY `entry_id` (`entry_id`)
);</textarea>


<p>å¼•ç”¨é€šå‘Šè§„èŒƒåªéœ€è¦å‘é€å››éƒ¨åˆ†ä¿¡æ¯(url,title,excerpt,blog_name)åˆ°å¼•ç”¨é€šå‘Šï¼Œä½†æ˜¯ä¸ºäº†ä½¿æ•°æ®æ›´æœ‰ç”¨ï¼Œæˆ‘ä»¬åœ¨ä¸Šé¢çš„æ•°æ®è¡¨æ¶æ„ä¸­æ·»åŠ äº†ä¸€äº›å­—æ®µ(æ—¥æœŸã€IPåœ°å€ç­‰ç­‰)ã€‚</p>

<h2>å¤„ç†ä¸€ä¸ªå¼•ç”¨é€šå‘Š</h2>

<p>è¿™é‡Œæœ‰ä¸€ä¸ªå…³äºå¦‚ä½•æ¥æ”¶å’Œå¤„ç†å¼•ç”¨é€šå‘Šçš„èŒƒä¾‹ã€‚ä¸‹é¢è¿™äº›ä»£ç åº”è¯¥è¢«ç”¨åœ¨ä½ è¦æ¥æ”¶å¼•ç”¨é€šå‘Šçš„æ§åˆ¶å™¨å‡½æ•°é‡Œé¢ã€‚</p>

<code>$this-&gt;load-&gt;library('trackback');<br />
$this-&gt;load-&gt;database();<br />

<br />
if ($this-&gt;uri-&gt;segment(3) == FALSE)<br />
&#123;<br />
&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;trackback-&gt;send_error("Unable to determine the entry ID");<br />
&#125;<br />
<br />
if ( ! $this-&gt;trackback-&gt;receive())<br />
&#123;<br />
&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;trackback-&gt;send_error("The Trackback did not contain valid data");<br />
&#125;<br />

<br />
$data = array(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'tb_id'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=> '',<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'entry_id'&nbsp;&nbsp;&nbsp;=> $this-&gt;uri-&gt;segment(3),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'url'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=> $this-&gt;trackback-&gt;data('url'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'title'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=> $this-&gt;trackback-&gt;data('title'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'excerpt'&nbsp;&nbsp;&nbsp;&nbsp;=> $this-&gt;trackback-&gt;data('excerpt'),<br />

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'blog_name'&nbsp;&nbsp;=> $this-&gt;trackback-&gt;data('blog_name'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'tb_date'&nbsp;&nbsp;&nbsp;&nbsp;=> time(),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'ip_address' => $this-&gt;input-&gt;ip_address()<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
<br />
$sql = $this-&gt;db-&gt;insert_string('trackbacks', $data);<br />
$this-&gt;db-&gt;query($sql);<br />
<br />
$this-&gt;trackback-&gt;send_success();</code>

<h4>è¯´æ˜:</h4>

<p>æ¡ç›®IDå·åº”è¯¥å‡ºç°åœ¨ä½ çš„URLçš„ç¬¬ä¸‰æ®µä¸­ã€‚è¿™ä¸ªçš„ä¾æ®æ˜¯æˆ‘ä»¬ä¹‹å‰ç»™å‡ºçš„URIèŒƒä¾‹:</p>

<code>http://example.com/index.php/trackback/receive/<samp>entry_id</samp></code>

<p>æ³¨æ„ entry_id ä½äºURIçš„ç¬¬ä¸‰æ®µï¼Œè¿™æ ·ä½ å°±å¯ä»¥é€šè¿‡ä¸‹é¢è¿™ç§æ–¹å¼è·å–åˆ°å®ƒ:</p>

<code>$this-&gt;uri-&gt;segment(3);</code>

<p>åœ¨ä¸Šé¢çš„å¼•ç”¨é€šå‘Šæ¥æ”¶ä»£ç ä¸­ï¼Œå¦‚æœç¼ºå°‘ç¬¬ä¸‰æ®µï¼Œæˆ‘ä»¬å°†å‘å‡ºé”™è¯¯è­¦å‘Šã€‚ç¼ºå°‘æœ‰æ•ˆçš„æ¡ç›®IDï¼Œä¹Ÿå°±æ²¡æœ‰ç†ç”±ç»§ç»­ä¸‹å»äº†ã€‚</p>

<p> <dfn>$this-&gt;trackback-&gt;receive()</dfn> å‡½æ•°åªæ˜¯ä¸€ä¸ªç®€å•çš„éªŒè¯å‡½æ•°ï¼Œä½œç”¨æ˜¯æ£€æŸ¥è¾“å…¥çš„æ•°æ®ä»¥ç¡®ä¿å…¶ä¸­åŒ…å«äº†å¿…éœ€çš„å››éƒ¨åˆ†æ•°æ®(url, title, excerpt, blog_name)ã€‚å¦‚æœæˆåŠŸåˆ™è¿”å› TRUEï¼Œå¤±è´¥åˆ™è¿”å› FALSEã€‚å¦‚æœå¤±è´¥ï¼Œä½ å°†çœ‹åˆ°ä¸€æ¡é”™è¯¯ä¿¡æ¯ã€‚</p>

<p>å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„å‡½æ•°è·å–è¾“å…¥çš„å¼•ç”¨é€šå‘Šæ•°æ®:</p>

<code>$this-&gt;trackback-&gt;data('<var>item</var>')</code>

<p>å…¶ä¸­ <var>item</var> ä»£è¡¨è¿™å››éƒ¨åˆ†ä¿¡æ¯ä¸­çš„ä¸€éƒ¨åˆ†: url, title, excerpt, æˆ–è€… blog_nameã€‚</p>

<p>å¦‚æœå¼•ç”¨é€šå‘Šæ•°æ®è¢«æˆåŠŸåœ°æ¥æ”¶ï¼Œä½ å°†å¯ä»¥ä½¿ç”¨ä¸‹é¢çš„æ–¹å¼è·å–åˆ°ä¸€æ¡æˆåŠŸä¿¡æ¯:</p>

<code>$this-&gt;trackback-&gt;send_success();</code>

<p class="important"><strong>æ³¨æ„:</strong> ä¸Šé¢çš„ä»£ç ä¸åŒ…å«æ•°æ®éªŒè¯ï¼Œé‚£æ­£æ˜¯æˆ‘ä»¬é¼“åŠ±ä½ å»æ·»åŠ çš„ã€‚</p><p>&nbsp;</p>
<div id="Contributors">
ç¿»è¯‘è´¡çŒ®è€…:
Drice, Hex, shnwqshnwq, yinzhili</div>
<div id="DocDate">
æœ€åä¿®æ”¹: 2010-11-10 11:48:26</div>
</div>
<!-- END CONTENT -->
<div id="footer">
  <p>
ä¸Šä¸€ä¸ªä¸»é¢˜:&nbsp;&nbsp;<a href="sessions.html" tppabs="http://codeigniter.org.cn/user_guide/libraries/sessions.html">Session ç±»</a>&nbsp;&nbsp;&middot;&nbsp;&nbsp;<a href="#top">é¡µé¦–</a>
&nbsp;&middot;&nbsp;&nbsp;<a href="../index.html" tppabs="http://codeigniter.org.cn/user_guide/index.html">ç”¨æˆ·æŒ‡å—é¦–é¡µ</a>&nbsp;&nbsp;&middot;&nbsp;&nbsp;ä¸‹ä¸€ä¸ªä¸»é¢˜:&nbsp;&nbsp;<a href="parser.html" tppabs="http://codeigniter.org.cn/user_guide/libraries/parser.html">æ¨¡æ¿è§£æå™¨ç±»</a>  </p>
  <p><a href="javascript:if(confirm('http://codeigniter.com/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.com/'" tppabs="http://codeigniter.com/">CodeIgniter</a> &nbsp;&middot;&nbsp; ç‰ˆæƒæ‰€æœ‰ &#169; 2006-2013 &nbsp;&middot;&nbsp; <a href="javascript:if(confirm('http://ellislab.com/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://ellislab.com/'" tppabs="http://ellislab.com/">Ellislab, Inc.</a></p>
  <p>ä¸­æ–‡åŒ–: <a href="javascript:if(confirm('http://codeigniter.org.cn/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.org.cn/'" tppabs="http://codeigniter.org.cn/">CodeIgniter ä¸­å›½</a> &nbsp;&middot;&nbsp; åˆ¶ä½œ: Hex &nbsp;&middot;&nbsp; ç‰ˆæœ¬: 1.30 &nbsp;&middot;&nbsp; é¸£è°¢: å­éé±¼</p>
</div>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-272152-3']);
_gaq.push(['_addOrganic', 'baidu', 'word']);
_gaq.push(['_addOrganic', 'soso', 'w']);
_gaq.push(['_addOrganic', '3721', 'name']);
_gaq.push(['_addOrganic', 'yodao', 'q']);
_gaq.push(['_addOrganic', 'vnet', 'kw']);
_gaq.push(['_addOrganic', 'sogou', 'query']);
_gaq.push(['_addIgnoredOrganic', 'codeigniter.org.cn']);
_gaq.push(['_trackPageview']);
(function() {
    var ga = document.createElement('script');
    ga.src = (('https:' == document.location.protocol) ? 'https://ssl' : 'http://www/') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
})();
</script>
<div style="display:none"><script language="javascript" type="text/javascript" src="../../../js.users.51.la/3289908.js" tppabs="http://js.users.51.la/3289908.js"></script>
<noscript><a href="javascript:if(confirm('http://www.51.la/?3289908  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://www.51.la/?3289908'" tppabs="http://www.51.la/?3289908" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="../../../web.51.la/go.asp-svid=5&id=3289908&style=-1&vpage=http---codeigniter.org.cn-user_guide-index.html&60478.8.gif" tppabs="http://img.users.51.la/3289908.asp" style="border:none" /></a></noscript></div>
</body>
</html>