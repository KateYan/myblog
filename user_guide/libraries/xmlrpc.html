<html><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="utf-8" lang="utf-8">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=0" />
<title>XML-RPC å’Œ XML-RPC æœåŠ¡å™¨ç±» - CodeIgniter ä¸­æ–‡æ‰‹å†Œ|ç”¨æˆ·æ‰‹å†Œ|ç”¨æˆ·æŒ‡å—|Wikiæ–‡æ¡£</title>
<link rel="shortcut icon" href="../../images/design/favicon.ico" tppabs="http://codeigniter.org.cn/images/design/favicon.ico" type="image/x-icon" />
<link rel="stylesheet" type="text/css" media="all" href="../userguide.css" tppabs="http://codeigniter.org.cn/user_guide/userguide.css" />
<link rel="search" href="../../CodeIgniterSearch.xml" tppabs="http://codeigniter.org.cn/CodeIgniterSearch.xml" type="application/opensearchdescription+xml" title="CodeIgniter æœç´¢"/>
<link rel="canonical" href="xmlrpc.html" tppabs="http://codeigniter.org.cn/user_guide/libraries/xmlrpc.html" />
<script type="text/javascript" src="../nav/mootools.js-ver=20130324" tppabs="http://codeigniter.org.cn/user_guide/nav/mootools.js?ver=20130324"></script>
<script type="text/javascript" src="../nav/mootools-more.js-ver=20130324" tppabs="http://codeigniter.org.cn/user_guide/nav/mootools-more.js?ver=20130324"></script>
<script type="text/javascript" src="../nav/nav.js-ver=20130324" tppabs="http://codeigniter.org.cn/user_guide/nav/nav.js?ver=20130324"></script>
<script type="text/javascript" src="../nav/user_guide_menu.js-ver=20130324" tppabs="http://codeigniter.org.cn/user_guide/nav/user_guide_menu.js?ver=20130324"></script>
<meta name="robots" content="all" />
<meta name="author" content="ExpressionEngine Dev Team" />
<meta name="description" content="CodeIgniter ä¸­æ–‡æ‰‹å†Œ, CodeIgniter ç”¨æˆ·æŒ‡å—, CodeIgniter User Guide, Wiki æ–‡æ¡£" />
</head>
<body>
<!-- START NAVIGATION -->
<div id="nav">
  <div id="nav_inner">
    <script type="text/javascript">create_menu('http://codeigniter.org.cn/user_guide/');</script>
  </div>
</div>
<script type="text/javascript">_setNavigation();</script>
<div id="nav2"><a name="top"></a><a href="javascript:void(0);" onclick="myHeight.toggle();"><img src="../images/nav_toggle_darker.jpg" tppabs="http://codeigniter.org.cn/user_guide/images/nav_toggle_darker.jpg" width="154" height="43" border="0" title="åˆ‡æ¢ç›®å½•" alt="åˆ‡æ¢ç›®å½•" /></a></div>
<div id="masthead" class="clearfix">
    <div class="topbar-hd"><h1>CodeIgniter ç”¨æˆ·æŒ‡å— ç‰ˆæœ¬ 2.2.0</h1></div>
<div class="topbar-tip">ç¼–è¾‘æ–‡æ¡£ã€æŸ¥çœ‹è¿‘æœŸæ›´æ”¹è¯· <a href="javascript:if(confirm('http://codeigniter.org.cn/user_guide/auth/login  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÊÇ±»×Ô¶¯ÅÅ³ıËùÅÅ³ıµÄ¡£ (Äã²»Ò»¶¨ÒªÊ¹ÓÃ×Ô¶¯ÅÅ³ı£¬Çë²Î¿¼¡°ÏîÄ¿ÌØĞÔ¡±µÄ¡°ÍøÂçÀñ½Ú¡±¡£)  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.org.cn/user_guide/auth/login'" tppabs="http://codeigniter.org.cn/user_guide/auth/login">ç™»å½•</a> æˆ– <a href="javascript:if(confirm('http://codeigniter.org.cn/user_guide/auth/register  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÊÇ±»×Ô¶¯ÅÅ³ıËùÅÅ³ıµÄ¡£ (Äã²»Ò»¶¨ÒªÊ¹ÓÃ×Ô¶¯ÅÅ³ı£¬Çë²Î¿¼¡°ÏîÄ¿ÌØĞÔ¡±µÄ¡°ÍøÂçÀñ½Ú¡±¡£)  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.org.cn/user_guide/auth/register'" tppabs="http://codeigniter.org.cn/user_guide/auth/register">æ³¨å†Œ</a> ã€€<a href="javascript:if(confirm('http://codeigniter.org.cn/user_guide/auth/forgotten_password  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüÊÇ±»×Ô¶¯ÅÅ³ıËùÅÅ³ıµÄ¡£ (Äã²»Ò»¶¨ÒªÊ¹ÓÃ×Ô¶¯ÅÅ³ı£¬Çë²Î¿¼¡°ÏîÄ¿ÌØĞÔ¡±µÄ¡°ÍøÂçÀñ½Ú¡±¡£)  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.org.cn/user_guide/auth/forgotten_password'" tppabs="http://codeigniter.org.cn/user_guide/auth/forgotten_password">æ‰¾å›å¯†ç </a></div>      <div id="breadcrumb_right"><a href="../toc.html" tppabs="http://codeigniter.org.cn/user_guide/toc.html">ç›®å½•é¡µ</a></div>
</div>
<!-- END NAVIGATION -->
<!-- START BREADCRUMB -->
<table cellpadding="0" cellspacing="0" border="0" style="width:100%">
  <tr>
    <td id="breadcrumb">
        <a href="javascript:if(confirm('http://codeigniter.org.cn/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.org.cn/'" tppabs="http://codeigniter.org.cn/" target="_blank">CodeIgniter ä¸­å›½é¦–é¡µ</a>&nbsp;&#8250;&nbsp;
<a href="../index.html" tppabs="http://codeigniter.org.cn/user_guide/index.html">ç”¨æˆ·æŒ‡å—é¦–é¡µ</a>&nbsp;&#8250;&nbsp;XML-RPC å’Œ XML-RPC æœåŠ¡å™¨ç±»    </td>
    <td id="searchbox">
        <form method="get" action="http://www.google.com.hk/search" target="google_window">
        <input type="hidden" name="client" value="pub-0176846097796333"></input>
        <input type="hidden" name="forid" value="1"></input>
        <input type="hidden" name="ie" value="UTF-8"></input>
        <input type="hidden" name="oe" value="UTF-8"></input>
        <input type="hidden" name="as_sitesearch" id="as_sitesearch" value="codeigniter.org.cn/user_guide/" />
        æœç´¢ç”¨æˆ·æŒ‡å—&nbsp;
        <input type="text" class="input" style="width:200px;" name="q" id="q" size="31" maxlength="255" value="" />
        &nbsp;
        <input type="submit" class="submit" name="sa" value="Go" />
      </form>
    </td>
  </tr>
</table>
<!-- END BREADCRUMB -->
<div style="clear:both;text-align:right;padding: 6px 40px 0 0;">
<a href="javascript:if(confirm('http://ellislab.com/codeigniter/user-guide/libraries/xmlrpc.html  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://ellislab.com/codeigniter/user-guide/libraries/xmlrpc.html'" tppabs="http://ellislab.com/codeigniter/user-guide/libraries/xmlrpc.html" target="_blank">æŸ¥çœ‹åŸæ–‡</a>
</div>
<!--<br clear="all" />--><!-- START CONTENT -->
<div id="content">
<h1>XML-RPC å’Œ XML-RPC æœåŠ¡å™¨ç±»</h1>
<p>CodeIgniter çš„ XML-RPC&nbsp; ç±»å…è®¸ä½ å‘é€è¯·æ±‚åˆ°å¦ä¸€ä¸ªæœåŠ¡å™¨, æˆ–è€…å»ºç«‹ä¸€ä¸ªä½ è‡ªå·±çš„XML-RPCæœåŠ¡å™¨æ¥æ¥å—è¯·æ±‚.</p>
<h2>ä»€ä¹ˆæ˜¯XML-RPC?</h2>
<p>è¿™æ˜¯ä¸€ä¸ªéå¸¸ç®€å•çš„ä¸¤å°è®¡ç®—æœºä½¿ç”¨XMLé€šè¿‡äº’è”ç½‘è¿›è¡Œé€šä¿¡çš„æ–¹æ³•. ä¸€å°è®¡ç®—æœº , æˆ‘ä»¬ç§°ä¹‹ä¸º <dfn>å®¢æˆ·ç«¯ </dfn>, å‘é€ä¸€ä¸ªXML-RPC <strong>è¯·æ±‚</strong> ç»™å¦å¤–ä¸€å°è®¡ç®—æœº , æˆ‘ä»¬ç§°ä¹‹ä¸º <dfn>æœåŠ¡å™¨</dfn>.  å½“æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚å¹¶åŠ ä»¥å¤„ç†,ç„¶åå°†<strong> ç»“æœ </strong>è¿”å›ç»™å®¢æˆ·ç«¯.</p>
<p>ä¾‹å¦‚,ä½¿ç”¨ MetaWeblog çš„ API(åº”ç”¨ç¨‹åºæ¥å£) , ä¸€ä¸ªXML-RPCå®¢æˆ·ç«¯(é€šå¸¸æ˜¯æ¡Œé¢å‘å¸ƒå·¥å…·)ä¼šå‘é€ä¸€ä¸ªè¯·æ±‚åˆ°è¿è¡Œåœ¨ä½ ç½‘ç«™çš„XML-RPCæœåŠ¡ç«¯. è¿™ä¸ªè¯·æ±‚æœ‰å¯èƒ½æ˜¯è¦å‘å¸ƒä¸€ç¯‡æ–°çš„ç½‘å¿—,æˆ–è€…æ˜¯è¦ä¿®æ”¹å·²å­˜åœ¨çš„ç½‘å¿—. å½“XML-RPCæœåŠ¡å™¨æ¥æ”¶åˆ°è¯·æ±‚,å°†æ£€éªŒè¯·æ±‚å¹¶ä¸”å†³å®šè°ƒç”¨ä½•ç§ç±»/æ–¹æ³•æ¥å¤„ç†è¯·æ±‚.ä¸€æ—¦å¤„ç†å®Œæ¯•,æœåŠ¡å™¨å°†è¿”å›ä¸€ä¸ªå“åº”ä¿¡æ¯.</p>
<p>å¦‚æœè¦æŸ¥çœ‹æ›´è¯¦ç»†çš„è§„èŒƒ,ä½ å¯ä»¥æµè§ˆ <a href="javascript:if(confirm('http://www.xmlrpc.com/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://www.xmlrpc.com/'" tppabs="http://www.xmlrpc.com/">XML-RPC</a> ç½‘ç«™.</p>
<h2>åˆå§‹åŒ–ç±»</h2>
<p>åƒCodeIgniterçš„å¤§å¤šæ•°ç±»ä¸€æ ·, XML-RPC å’Œ XML-RPCS ç±» åœ¨ä½ çš„æ§åˆ¶å™¨ä¸­è°ƒç”¨ <dfn>$this-&gt;load-&gt;library</dfn> æ–¹æ³•æ¥è¿›è¡Œåˆå§‹åŒ–:</p>
<p>ä½¿ç”¨ä»¥ä¸‹ä»£ç è½½å…¥XML-RPCç±»åº“:</p>
<p><code>$this-&gt;load-&gt;library('xmlrpc');</code></p>
<p>ä¸€æ—¦XML-RPCç±»è¢«è½½å…¥, XML-RPC åº“çš„å¯¹è±¡å°±å¯ä»¥ä½¿ç”¨äº†: <dfn>$this-&gt;xmlrpc</dfn></p>

<p>ä½¿ç”¨ä¸‹é¢çš„æ–¹æ³•è½½å…¥ XML-RPC æœåŠ¡å™¨ç±»ï¼š</p>
<code>
$this-&gt;load-&gt;library('xmlrpc');<br />
$this-&gt;load-&gt;library('xmlrpcs');
</code>
<p>ä¸€æ—¦åŠ å…¥ï¼Œå¯ä»¥é€šè¿‡ã€€<dfn>$this-&gt;xmlrpcs</dfn>ã€€ä½¿ç”¨ xml-rpcsã€€åº“å¯¹è±¡: <dfn>$this-&gt;xmlrpcs</dfn></p>

<p class="important"><strong>æ³¨æ„:</strong>&nbsp; ä½¿ç”¨ XML-RPC æœåŠ¡å™¨ï¼Œå¿…é¡»åŒæ—¶è½½å…¥ XML-RPC ç±»å’Œ XML-RPC æœåŠ¡å™¨ç±»ã€‚</p>



<h2>å‘é€ XML-RPC è¯·æ±‚</h2>

<p>å‘é€ä¸€ä¸ªè¯·æ±‚åˆ° XML-RPC æœåŠ¡å™¨ï¼Œéœ€æŒ‡å®šå¦‚ä¸‹ä¿¡æ¯ï¼š</p>

<ul>
<li>æœåŠ¡å™¨çš„ URL</li>
<li>ä½ è¦è°ƒç”¨çš„æœåŠ¡å™¨ä¸Šçš„æ–¹æ³•ã€‚</li>
<li>The <em>è¯·æ±‚</em> æ•°æ® (è¯´æ˜è§ä¸‹é¢).</li>
</ul>

<p>ä¸‹é¢æ˜¯ä¸€ä¸ªç®€å•çš„ä¾‹å­ï¼Œå®ƒå‘é€ä¸€ä¸ªç®€å•çš„ Weblogs.com ping åˆ°<a href="javascript:if(confirm('http://pingomatic.com/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://pingomatic.com/'" tppabs="http://pingomatic.com/">Ping-o-Matic</a></p>


<code>$this-&gt;load-&gt;library('xmlrpc');<br />
<br />
$this-&gt;xmlrpc-&gt;server('http://rpc.pingomatic.com/', 80);<br />
$this-&gt;xmlrpc-&gt;method('weblogUpdates.ping');<br />

<br />
$request = array('My Photoblog', 'http://www.my-site.com/photoblog/');<br />
$this-&gt;xmlrpc-&gt;request($request);<br />
<br />
if ( ! $this-&gt;xmlrpc-&gt;send_request())<br />
&#123;<br />
&nbsp;&nbsp;&nbsp;&nbsp;echo $this-&gt;xmlrpc-&gt;display_error();<br />
&#125;</code>

<h3>è¯´æ˜</h3>

<p>ä»¥ä¸Šä»£ç åˆå§‹åŒ–XML-RPCç±»ï¼Œè®¾ç½®äº†æœåŠ¡å™¨çš„URLå’Œè¦è°ƒç”¨çš„æ–¹æ³•ï¼ˆweblogUpdates.ping).  è¯·æ±‚ï¼ˆåœ¨æ­¤ä¾‹ä¸­ä¸ºä½ ç½‘ç«™çš„æ ‡é¢˜å’ŒURLï¼‰è¢«æ”¾åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ä½¿ç”¨ request() å‡½æ•°ä¼ è¾“ã€ç¼–è¯‘ã€‚æœ€åï¼Œæ•´ä¸ªè¯·æ±‚å‘å‡ºï¼Œå¦‚æœ<dfn>send_request()</dfn>æ–¹æ³•è¿”å› falseï¼Œæˆ‘ä»¬å°†æ˜¾ç¤ºXML-RPC æœåŠ¡å™¨å‘å›çš„é”™è¯¯ä¿¡æ¯ã€‚</p>ã€€


<h2>è¯·æ±‚å‰–æ</h2>

<p>ä¸€ä¸ª XML-RPC <dfn>è¯·æ±‚</dfn>åªæ˜¯ä½ å‘é€åˆ° XML-RPC æœåŠ¡å™¨çš„æ•°æ®ã€‚è¯·æ±‚ä¸­çš„æ¯ä¸ªæ•°æ®ç‰‡æ–­ä¹Ÿè¢«ç§°ä¸º<dfn>è¯·æ±‚å‚æ•°</dfn>ã€‚åœ¨ä¸Šé¢çš„ç¤ºä¾‹ä¸­ï¼Œæœ‰ä¸¤ä¸ªå‚æ•°ï¼šä½ ç½‘ç«™çš„URLå’Œæ ‡é¢˜ã€‚å½“ XML-RPC æœåŠ¡å™¨æ¥åˆ°ä½ çš„è¯·æ±‚ï¼ŒæœåŠ¡å™¨ä¼šå¯»æ‰¾è¯·æ±‚å‚æ•°ã€‚</p>

<p>è¯·æ±‚å‚æ•°å¿…é¡»æ”¾åœ¨æ•°ç»„ä¸­ä¼ è¾“ï¼Œæ¯ä¸ªå‚æ•°å¯ä»¥æ˜¯ä¸ƒç§æ•°æ®ç±»å‹ä¸­çš„ä»»ä¸€ç§ï¼ˆå­—ç¬¦ä¸²ï¼Œæ•°å­—ï¼Œæ—¥æœŸï¼Œç­‰ç­‰ï¼‰ã€‚å¦‚æœä½ çš„å‚æ•°æ˜¯å­—ç¬¦ä¸²å¤–çš„å…¶å®ƒç±»å‹ï¼Œåˆ™å¿…é¡»åœ¨è¯·æ±‚æ•°ç»„ä¸­åŒ…å«æ•°æ®ç±»å‹ã€‚</p>

<p>ä¸‹é¢æ˜¯ä¸€ä¸ªåŒ…å«ä¸‰ä¸ªå‚æ•°çš„ç®€å•æ•°ç»„ç¤ºä¾‹:</p>

<code>$request = array('John', 'Doe', 'www.some-site.com');<br />
$this-&gt;xmlrpc-&gt;request($request);</code>

<p>å¦‚æœä½ ä½¿ç”¨é™¤å­—ç¬¦ä¸²ä»¥å¤–çš„å…¶å®ƒç±»å‹ï¼Œæˆ–æœ‰å‡ ç§ä¸åŒçš„æ•°æ®ç±»å‹ï¼Œä½ éœ€è¦å°†æ¯ä¸ªå‚æ•°å•ç‹¬æ”¾åˆ°ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå¹¶åœ¨æ•°ç»„ç¬¬äºŒä¸ªä½ç½®ç»™å‡ºæ•°æ®ç±»å‹ã€‚</p>

<code>
$request = array (<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array('John', 'string'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array('Doe', 'string'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(FALSE, 'boolean'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(12345, 'int')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);
<br />
$this-&gt;xmlrpc-&gt;request($request);</code>

<a href="#datatypes">æ•°æ®ç±»å‹</a>  ä¸­åŒ…æ‹¬å®Œæˆçš„æ•°æ®ç±»å‹åˆ—è¡¨ã€‚



<h2>åˆ›å»º XML-RPC æœåŠ¡å™¨</h2>

<p>XML-RPC æœåŠ¡æ‰®æ¼”ç€äº¤é€šè­¦å¯Ÿçš„è§’è‰²ï¼Œç­‰å¾…è¿›å…¥çš„è¯·æ±‚ï¼Œå¹¶å°†å®ƒä»¬è½¬åˆ°æ°å½“çš„å‡½æ•°è¿›è¡Œå¤„ç†ã€‚</p>

<p>è¦åˆ›å»ºè‡ªå·±çš„ XML-RPC æœåŠ¡å™¨ï¼ŒåŒ…æ‹¬åœ¨æ¥å—è¯·æ±‚çš„æ§åˆ¶å™¨ä¸­åˆå§‹åŒ– XML-RPC æœåŠ¡å™¨ç±»ï¼Œç„¶åè®¾ç½®ä¸€ä¸ªæŒ‡å‘æ˜ å°„æ•°ç»„ä»¥ä¾¿æ”¶åˆ°çš„è¯·æ±‚å¯ä»¥è¢«å‘é€åˆ°æ°å½“çš„ç±»ä¸æ–¹æ³•æ¥å¤„ç†ã€‚</p>

<p>ä¸‹é¢ç”¨ä¸€ä¸ªä¾‹å­æ¥è¯´æ˜ï¼š</p>

<code>
$this-&gt;load-&gt;library('xmlrpc');<br />
$this-&gt;load-&gt;library('xmlrpcs');<br />
<br />
$config['functions']['<var>new_post</var>'] = array('function' => '<dfn>My_blog.new_entry</dfn>'),<br />
$config['functions']['<var>update_post</var>'] = array('function' => '<dfn>My_blog.update_entry</dfn>');<br />
$config['object'] = $this;<br />
<br />
$this-&gt;xmlrpcs-&gt;initialize($config);<br />
$this-&gt;xmlrpcs-&gt;serve();</code>

<p>ä¸Šé¢çš„ä¾‹å­ä¸­æœ‰ä¸€ä¸ªåŒ…å«ä¸¤ä¸ªæœåŠ¡å™¨å…è®¸çš„ç‰¹å®šè¯·æ±‚æ–¹æ³•çš„æ•°ç»„ã€‚è¿™äº›è¢«å…è®¸çš„æ–¹æ³•åœ¨æ•°ç»„çš„å·¦è¾¹ï¼Œå½“æ”¶åˆ°å…¶ä¸­ä»»ä½•ä¸€ä¸ªæ–¹æ³•æ—¶ï¼Œå®ƒä¼šè¢«ç«‹åˆ»æ˜ å°„åˆ°æ•°ç»„å³è¾¹æ‰€åˆ—å‡ºçš„ç±»ä¸æ–¹æ³•ã€‚</p>

<p>'<var>Object</var>'æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„é”®ï¼Œå®ƒæ˜¯ä½ ä¼ é€’çš„ç±»çš„å®ä¾‹ï¼Œè¿™ä¸ªé”®æ˜¯å¿…è¦çš„ï¼Œå°¤å…¶æ˜¯å½“ä½ æ˜ å°„åˆ°çš„æ–¹æ³•ä¸æ˜¯ Codeigniter è¶…ç±»çš„ä¸€éƒ¨åˆ†ã€‚</p>
 
<p>æ¢å¥è¯è¯´ï¼Œå¦‚æœ XML-RPC å®¢æˆ·ç«¯å‘é€ä¸€ä¸ªè¯·æ±‚åˆ° <var>new_post</var> æ–¹æ³•ï¼Œä½ çš„æœåŠ¡å™¨ä¼šåŠ è½½ <dfn>My_blog</dfn> ç±»å¹¶è°ƒç”¨ <var>new_entry</var> å‡½æ•°ã€‚å¦‚æœè¿™ä¸ªè¯·æ±‚æ˜¯åˆ° <var>update_post</var> æ–¹æ³•çš„ï¼Œé‚£ä¹ˆä½ çš„æœåŠ¡å™¨ä¼šåŠ è½½ <dfn>My_blog</dfn> ç±»å¹¶è°ƒç”¨ <var>update_entry</var> å‡½æ•°ã€‚</p>

<p>ä¸Šé¢ä¾‹å­ä¸­çš„å‡½æ•°åæ˜¯ä»»æ„çš„ã€‚ä½ å¯ä»¥å†³å®šè¿™äº›å‡½æ•°åœ¨ä½ çš„æœåŠ¡å™¨ä¸Šå«ä»€ä¹ˆåå­—ï¼Œå¦‚æœä½ ä½¿ç”¨çš„æ˜¯æ ‡å‡†çš„ APIï¼Œæ¯”å¦‚ï¼šBlogger æˆ–è€… MetaWeblog çš„ APIï¼Œä½ å¿…é¡»ä½¿ç”¨æ ‡å‡†çš„å‡½æ•°åã€‚</p>

<p>è¿™é‡Œè¿˜æœ‰ä¸¤ä¸ªé™„åŠ çš„é…ç½®é¡¹ï¼Œå¯ä»¥åœ¨æœåŠ¡å™¨ç±»åˆå§‹åŒ–æ—¶é…ç½®ä½¿ç”¨ã€‚<var>debug</var> è®¾ä¸º TRUE ä»¥ä¾¿è°ƒè¯•ï¼Œ<var>xss_clean</var> å¯è¢«è®¾ç½®ä¸º FALSE ä»¥é¿å…æ•°æ®è¢«å®‰å…¨ç±»åº“çš„ <var>xss_clean</var> å‡½æ•°è¿‡æ»¤ã€‚</p>

<h2>å¤„ç†æœåŠ¡å™¨è¯·æ±‚</h2>

<p>å½“ XML-RPC æœåŠ¡å™¨æ”¶åˆ°è¯·æ±‚å¹¶åŠ è½½ç±»ä¸æ–¹æ³•æ¥å¤„ç†æ—¶ï¼ŒæœåŠ¡å™¨ä¼šä¼ é€’ä¸€ä¸ªåŒ…å«å®¢æˆ·ç«¯å‘é€æ•°æ®çš„å¯¹è±¡åˆ°æŒ‡å®šçš„æ–¹æ³•ã€‚</p>

<p>åœ¨ä¸Šé¢çš„ä¾‹å­ä¸­ï¼Œå¦‚æœè¯·æ±‚çš„æ˜¯ <var>new_post</var> æ–¹æ³•ï¼ŒæœåŠ¡å™¨è¯·æ±‚çš„ç±»ä¸æ–¹æ³•ä¼šåƒè¿™æ ·ï¼š</p>

<code>class <kbd>My_blog</kbd> extends CI_Controller &#123;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;function <kbd>new_post</kbd>(<var>$request</var>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&#123;<br />
 <br />
&nbsp;&nbsp;&nbsp;&nbsp;&#125;<br />
&#125;
</code>

<p><var>$request</var> å˜é‡æ˜¯ä¸€ä¸ªç”±æœåŠ¡ç«¯æ±‡é›†çš„å¯¹è±¡ï¼ŒåŒ…å«ç”± XML-RPC å®¢æˆ·ç«¯å‘é€æ¥çš„æ•°æ®ã€‚ä½¿ç”¨è¯¥å¯¹è±¡å¯ä»¥è®©ä½ è®¿é—®åˆ° <em>request parameters</em> ä»¥ä¾¿å¤„ç†è¯·æ±‚ã€‚è¯·æ±‚å¤„ç†å®Œæˆåï¼Œå‘é€ä¸€ä¸ª <dfn>Response</dfn> è¿”å›ç»™å®¢æˆ·ç«¯ã€‚</p>

<p>ä¸‹é¢æ˜¯ä¸€ä¸ªè¾ƒä¸ºå®é™…çš„ä¾‹å­ï¼Œä½¿ç”¨ Blogger çš„ APIã€‚Blogger API ä¸­çš„ä¸€ä¸ªæ–¹æ³•æ˜¯ <dfn>getUserInfo()</dfn>ï¼Œä½¿ç”¨è¯¥æ–¹æ³• XML-RPC å®¢æˆ·ç«¯å¯ä»¥å‘é€ç”¨æˆ·åå’Œå¯†ç åˆ°æœåŠ¡å™¨ï¼Œåœ¨æœåŠ¡å™¨è¿”å›çš„æ•°æ®ä¼šåŒ…å«è¯¥ç‰¹å®šç”¨æˆ·çš„ä¿¡æ¯ï¼ˆæ˜µç§°ï¼Œç”¨æˆ· IDï¼ŒEmail åœ°å€ç­‰ç­‰ï¼‰ã€‚ä¸‹é¢æ˜¯å¤„ç†å‡½æ•°å¯èƒ½çš„æ ·å­ï¼š</p>


<code>class <kbd>My_blog</kbd> extends CI_Controller &#123;<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;function <kbd>getUserInfo</kbd>(<var>$request</var>)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&#123;<br />

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$username = 'smitty';<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$password = 'secretsmittypass';<br /><br />

&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$this-&gt;load-&gt;library('xmlrpc');<br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$parameters&nbsp;=&nbsp;$request-&gt;output_parameters();<br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;if&nbsp;($parameters['1'] != $username AND $parameters['2'] != $password)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#123;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return&nbsp;$this-&gt;xmlrpc-&gt;send_error_message('100',&nbsp;'Invalid&nbsp;Access');<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&#125;<br />
&nbsp;&nbsp;&nbsp;&nbsp;<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$response&nbsp;=&nbsp;array(array('nickname'&nbsp;&nbsp;=>&nbsp;array('Smitty','string'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'userid'&nbsp;&nbsp;&nbsp;&nbsp;=>&nbsp;array('99','string'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'url'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=>&nbsp;array('http://yoursite.com','string'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'email'&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;=>&nbsp;array('jsmith@yoursite.com','string'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'lastname'&nbsp;&nbsp;=>&nbsp;array('Smith','string'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'firstname'&nbsp;=>&nbsp;array('John','string')<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'struct');<br />
<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;return $this-&gt;xmlrpc-&gt;send_response($response);<br />
&nbsp;&nbsp;&nbsp;&nbsp;&#125;<br />
&#125;
</code>

<h3>æ³¨æ„ï¼š</h3>
<p><dfn>output_parameters()</dfn> å‡½æ•°ä¼šæ£€ç´¢ä¸€ä¸ªç”±ç›¸åº”å®¢æˆ·ç«¯å‘é€çš„ç´¢å¼•è¿‡çš„è¯·æ±‚å‚æ•°æ•°ç»„ã€‚ä¸Šé¢çš„ä¾‹å­ä¸­è¾“å‡ºå‚æ•°å°†ä¼šæ˜¯ç”¨æˆ·åå’Œå¯†ç ã€‚</p>

<p>å¦‚æœå®¢æˆ·ç«¯å‘é€çš„ç”¨æˆ·åå’Œå¯†ç æ— æ•ˆçš„è¯ï¼Œé”™è¯¯ä¿¡æ¯ä¼šé€šè¿‡ <dfn>send_error_message()</dfn> å‡½æ•°è¿”å›ã€‚</p>

<p>å¦‚æœæ“ä½œæˆåŠŸï¼Œå®¢æˆ·ç«¯ä¼šæ”¶åˆ°åŒ…å«ç”¨æˆ·ä¿¡æ¯çš„åé¦ˆæ•°ç»„ã€‚</p>


<h2>æ ¼å¼åŒ–åé¦ˆä¿¡æ¯</h2>

<p>å°±åƒ <em>Requests</em>, <em>Responses</em> å¿…é¡»è¢«æ ¼å¼åŒ–ä¸ºæ•°ç»„ã€‚ç„¶è€Œä¸åŒäºè¯·æ±‚ä¿¡æ¯ï¼Œåé¦ˆä¿¡æ¯æ˜¯<strong>åªåŒ…å«ä¸€ä¸ªé¡¹</strong>çš„æ•°ç»„ã€‚è¯¥é¡¹å¯ä»¥æ˜¯ä¸€ä¸ªåŒ…å«å¾ˆå¤šå…¶ä»–æ•°ç»„çš„çš„æ•°ç»„ï¼Œä½†æ˜¯åªæœ‰ä¸€ä¸ªä¸»æ•°ç»„ç´¢å¼•ï¼Œä¸‹é¢æ˜¯ä¸€ä¸ªåé¦ˆä¿¡æ¯å¤§æ¦‚çš„æ ·å­ï¼š</p>

<code>$response = array('Response data',  'array');</code>

<p>ä½†æ˜¯åé¦ˆä¿¡æ¯é€šå¸¸åŒ…å«å¤šä¸ªåˆ†å—ä¿¡æ¯ã€‚è¦åšåˆ°è¿™æ ·ï¼Œæˆ‘ä»¬å¿…é¡»æŠŠå„åˆ†å—ä¿¡æ¯æ”¾åˆ°ä»–ä»¬è‡ªå·±çš„æ•°ç»„ä¸­ï¼Œè¿™æ ·ä¸»æ•°ç»„å°±å§‹ç»ˆåªæœ‰ä¸€ä¸ªæ•°æ®é¡¹ã€‚è¿™é‡Œæ˜¯ä¸€ä¸ªä¾‹å­æ¥å±•ç¤ºå¦‚ä½•è¾¾æˆè¿™æ ·çš„æ•ˆæœï¼š</p>

<code>
$response = array (<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'first_name' => array('John', 'string'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'last_name' => array('Doe', 'string'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'member_id' => array(123435, 'int'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'todo_list' => array(array('clean house', 'call mom', 'water plants'), 'array'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'struct'<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);
</code>

<p class="important">æ³¨æ„ï¼šä¸Šé¢çš„æ•°ç»„è¢«æ ¼å¼åŒ–ä¸º <dfn>struct</dfn>ï¼Œè¿™æ˜¯åé¦ˆä¿¡æ¯æœ€å¸¸è§çš„æ•°æ®ç±»å‹ã€‚</p>

<p>å¦‚åŒè¯·æ±‚ä¿¡æ¯ä¸€æ ·ï¼Œåé¦ˆä¿¡æ¯å¯ä»¥æ˜¯ä¸ƒç§æ•°æ®ç±»å‹ä¸­çš„ä¸€ç§ï¼Œå‚è§ <a href="#datatypes">æ•°æ®ç±»å‹</a> ä¸€èŠ‚ã€‚</p>


<h2>å‘é€å‡ºé”™åé¦ˆ</h2>

<p>å¦‚æœä½ éœ€è¦å‘é€ç»™å®¢æˆ·ç«¯ä¸€ä¸ªå‡ºé”™åé¦ˆï¼Œä½ ä¼šä½¿ç”¨åˆ°ä¸‹é¢çš„ä»£ç ï¼š</p>

<code>return $this-&gt;xmlrpc-&gt;send_error_message('123', 'Requested data not available');</code>

<p>ç¬¬ä¸€ä¸ªå‚æ•°æ˜¯å‡ºé”™ç¼–å·ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯å‡ºé”™ä¿¡æ¯ã€‚</p>






<h2>åˆ›å»ºä½ è‡ªå·±çš„å®¢æˆ·ç«¯ä¸æœåŠ¡ç«¯</h2>

<p>ä¸ºäº†å¸®åŠ©ç†è§£è¿™äº›ï¼Œè®©æˆ‘ä»¬åˆ›å»ºä¸¤ä¸ªæ§åˆ¶å™¨æ¥æ¼”ç¤º XML-RPC çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ã€‚ä½ å°†ç”¨å®¢æˆ·ç«¯æ¥å‘é€ä¸€ä¸ªè¯·æ±‚åˆ°æœåŠ¡ç«¯å¹¶ä»æœåŠ¡ç«¯æ”¶åˆ°ä¸€ä¸ªåé¦ˆã€‚</p>

<h3>å®¢æˆ·ç«¯</h3>

<p>ä½¿ç”¨ç¼–è¾‘å™¨åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨ï¼Œèµ·åä¸º <dfn>xmlrpc_client.php</dfn>ã€‚åœ¨è¿™ä¸ªæ§åˆ¶å™¨ä¸­ï¼Œç²˜è´´ä»¥ä¸‹çš„ä»£ç å¹¶ä¿å­˜åˆ° <samp>applications/controllers/</samp> ç›®å½•ï¼š</p>

<textarea class="textarea" style="width:100%" cols="50" rows="32">&lt;?php

class Xmlrpc_client extends CI_Controller &#123;
 
 function index()
 &#123; 
  $this-&gt;load-&gt;helper('url');
  $server_url = site_url('xmlrpc_server');
 
  $this-&gt;load-&gt;library('xmlrpc');
  
  $this-&gt;xmlrpc-&gt;server($server_url, 80);
  $this-&gt;xmlrpc-&gt;method('Greetings');
  
  $request = array('How is it going?');
  $this-&gt;xmlrpc-&gt;request($request); 
  
  if ( ! $this-&gt;xmlrpc-&gt;send_request())
  &#123;
   echo $this-&gt;xmlrpc-&gt;display_error();
  &#125;
  else
  &#123;
   echo '<pre>';
   print_r($this-&gt;xmlrpc-&gt;display_response());
   echo '</pre>';
  &#125;
 &#125;
&#125;
?&gt;</textarea>

<p>æ³¨æ„ï¼šåœ¨ä¸Šé¢çš„ä»£ç ä¸­æˆ‘ä»¬ä½¿ç”¨äº† "url" è¾…åŠ©å‡½æ•°ï¼Œä½ å¯ä»¥åœ¨<a href="../general/helpers.html" tppabs="http://codeigniter.org.cn/user_guide/general/helpers.html">è¾…åŠ©å‡½æ•°</a>é¡µé¢æ‰¾åˆ°æ›´å¤šä¿¡æ¯ã€‚</p>

<h3>æœåŠ¡ç«¯</h3>

<p>ä½¿ç”¨ç¼–è¾‘å™¨åˆ›å»ºä¸€ä¸ªæ§åˆ¶å™¨ï¼Œèµ·åä¸º <dfn>xmlrpc_server.php</dfn>ã€‚åœ¨è¿™ä¸ªæ§åˆ¶å™¨ä¸­ï¼Œç²˜è´´ä¸€ä¸‹ä»£ç å¹¶ä¿å­˜åˆ° <samp>applications/controllers/</samp> ç›®å½•ï¼š</p>

<textarea class="textarea" style="width:100%" cols="50" rows="30">&lt;?php

class Xmlrpc_server extends CI_Controller &#123;

 function index()
 &#123;
  $this-&gt;load-&gt;library('xmlrpc');
  $this-&gt;load-&gt;library('xmlrpcs');
  
  $config['functions']['Greetings'] = array('function' => 'Xmlrpc_server.process');
  
  $this-&gt;xmlrpcs-&gt;initialize($config);
  $this-&gt;xmlrpcs-&gt;serve();
 &#125;
 
 
 function process($request)
 &#123;
  $parameters = $request-&gt;output_parameters();
  
  $response = array(
       array(
         'you_said'  => $parameters['0'],
         'i_respond' => 'Not bad at all.'),
       'struct');
      
  return $this-&gt;xmlrpc-&gt;send_response($response);
 &#125;
&#125;
?&gt;</textarea>

<h3>è¯•è¯•å§ï¼</h3>

<p>ç°åœ¨åƒä¸‹é¢çš„é“¾æ¥è¿™æ ·è®¿é—®ä½ çš„ç«™ç‚¹ï¼š</p>
<code>example.com/index.php/<var>xmlrpc_client</var>/</code>

<p>ç°åœ¨ä½ åº”è¯¥èƒ½çœ‹åˆ°ä½ å‘é€åˆ°æœåŠ¡ç«¯çš„ä¿¡æ¯ï¼Œå¹¶ä¸”è¢«è¿”å›ç»™äº†ä½ ã€‚</p>

<p>åœ¨å®¢æˆ·ç«¯ï¼Œä½ å‘é€äº†ä¸€æ¡æ¶ˆæ¯ ("How's is going?") åˆ°æœåŠ¡ç«¯ï¼Œéšç€ä¸€ä¸ªè¯·æ±‚å‘é€åˆ° "Greetings" æ–¹æ³•ã€‚æœåŠ¡ç«¯æ”¶åˆ°è¿™ä¸ªè¯·æ±‚å¹¶æ˜ å°„åˆ° "process" å‡½æ•°ï¼Œç„¶åæŠŠåé¦ˆä¿¡æ¯è¿”å›ã€‚</p>

<h2>åœ¨è¯·æ±‚å‚æ•°ä¸­ä½¿ç”¨å…³è”æ•°ç»„</h2>

<p>å¦‚æœä½ å¸Œæœ›åœ¨ä½ çš„æ–¹æ³•å‚æ•°ä¸­ä½¿ç”¨å…³è”æ•°ç»„ï¼Œé‚£ä¹ˆä½ éœ€è¦ä½¿ç”¨ struct æ•°æ®ç±»å‹ï¼š</p>

<code>$request = array(<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Param 0<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'name'=&gt;'John'<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ),<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'struct'<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;),<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;// Param 1<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; 'size'=&gt;'large',<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'shape'=&gt;'round'<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; ),<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'struct'<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;);<br />
 $this-&gt;xmlrpc-&gt;request($request);</code>

<p>ä½ å¯ä»¥åœ¨æœåŠ¡ç«¯å¤„ç†è¯·æ±‚ä¿¡æ¯æ—¶æ£€ç´¢å…³è”æ•°ç»„ã€‚</p>

<code>$parameters = $request-&gt;output_parameters();<br />
 $name = $parameters['0']['name'];<br />
 $size = $parameters['1']['size'];<br />
 $size = $parameters['1']['shape']; </code>


<h1>XML-RPC å‡½æ•°å‚è€ƒ</h1>

<h2>$this-&gt;xmlrpc-&gt;server()</h2>
<p>è®¾ç½®å‘é€ç»™æœåŠ¡å™¨ç«¯çš„XML-RPCçš„urlå’Œç«¯å£å‚æ•°:</p>
<code>$this-&gt;xmlrpc-&gt;server('http://www.sometimes.com/pings.php', 80);</code>

<h2>$this-&gt;xmlrpc-&gt;timeout()</h2>
<p>è®¾ç½®ä¸€ä¸ªè¶…æ—¶æ—¶é—´ï¼ˆä»¥ç§’è®¡ç®—ï¼‰:</p>
<code>$this-&gt;xmlrpc-&gt;timeout(6);</code>

<h2>$this-&gt;xmlrpc-&gt;method()</h2>
<p>è®¾ç½®XML-RPCæœåŠ¡å™¨æ¥å—çš„è¯·æ±‚æ–¹æ³•:</p>
<code>$this-&gt;xmlrpc-&gt;method('<var>method</var>');</code>

<p>Where <var>method</var> is the name of the method.</p>

<h2>$this-&gt;xmlrpc-&gt;request()</h2>
<p>è®¾ç½®å‘é€ç»™XML-RPCæœåŠ¡å™¨çš„æ•°ç»„æ•°æ®:</p>
<code>$request = array(array('My Photoblog', 'string'), 'http://www.yoursite.com/photoblog/');<br />
$this-&gt;xmlrpc-&gt;request($request);</code>

<h2>$this-&gt;xmlrpc-&gt;send_request()</h2>
<p>è¯·æ±‚å‘é€å‡½æ•°.  å‡½æ•°ä½¿ç”¨ä¹‹å‰è®¾ç½®çš„å‚æ•°å»å‘èµ·è¯·æ±‚XML-RPCæœåŠ¡ï¼ŒæˆåŠŸåˆ™è¿”å›å¸ƒå°”å€¼TRUEï¼Œå¤±è´¥åˆ™è¿”å›å¸ƒå°”å€¼.</p>

<h2>$this-&gt;xmlrpc-&gt;set_debug(TRUE);</h2>
<p>å¼€å§‹è°ƒè¯•æ¨¡å¼, å¼€å¯åï¼Œç¨‹åºå°†è¾“å‡ºé”™è¯¯ã€è­¦å‘Šç­‰ä¿¡æ¯ï¼Œä»¥å¸®åŠ©å¼€å‘è€…æ›´å¿«çš„æ‰¾åˆ°é—®é¢˜æ‰€åœ¨ã€‚</p>


<h2>$this-&gt;xmlrpc-&gt;display_error()</h2>
<p>å½“è¯·æ±‚å¤±è´¥åï¼Œè¿”å›é”™è¯¯ä¿¡æ¯ã€‚</p>
<code>echo $this-&gt;xmlrpc-&gt;display_error();</code>

<h2>$this-&gt;xmlrpc-&gt;display_response()</h2>
<p>Returns the response from the remote server once request is received.  The response will typically be an associative array.</p>
<code>$this-&gt;xmlrpc-&gt;display_response();</code>

<h2>$this-&gt;xmlrpc-&gt;send_error_message()</h2>
<p>This function lets you send an error message from your server to the client. First parameter is the error number while the second parameter
is the error message.</p>
<code>return $this-&gt;xmlrpc-&gt;send_error_message('123', 'Requested data not available');</code>

<h2>$this-&gt;xmlrpc-&gt;send_response()</h2>
<p>Lets you send the response from your server to the client. An array of valid data values must be sent with this method.</p>
<code>$response = array(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;array(<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'flerror' => array(FALSE, 'boolean'),<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'message' => "Thanks for the ping!"<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;)<br />
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;'struct');<br />
return $this-&gt;xmlrpc-&gt;send_response($response);</code>


<a name="datatypes"></a>
<h2>æ•°æ®ç±»å‹</h2>

<p>According to the <a href="javascript:if(confirm('http://www.xmlrpc.com/spec  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://www.xmlrpc.com/spec'" tppabs="http://www.xmlrpc.com/spec">XML-RPC spec</a> there are seven types
of values that you can send via XML-RPC:</p>

<ul>
<li><em>int</em> or <em>i4</em></li>
<li><em>boolean</em></li>
<li><em>string</em></li>
<li><em>double</em></li>
<li><em>dateTime.iso8601</em></li>
<li><em>base64</em></li>
<li><em>struct</em> (contains array of values)</li>
<li><em>array</em> (contains array of values)</li>
</ul><p>&nbsp;</p>
<div id="Contributors">
ç¿»è¯‘è´¡çŒ®è€…:
Hex, huanxiangwu, huboo, ianyang, shishirui, sydcurie, wanglinqiang</div>
<div id="DocDate">
æœ€åä¿®æ”¹: 2014-06-12 17:57:10</div>
</div>
<!-- END CONTENT -->
<div id="footer">
  <p>
ä¸Šä¸€ä¸ªä¸»é¢˜:&nbsp;&nbsp;<a href="user_agent.html" tppabs="http://codeigniter.org.cn/user_guide/libraries/user_agent.html">User-Agent ç±»</a>&nbsp;&nbsp;&middot;&nbsp;&nbsp;<a href="#top">é¡µé¦–</a>
&nbsp;&middot;&nbsp;&nbsp;<a href="../index.html" tppabs="http://codeigniter.org.cn/user_guide/index.html">ç”¨æˆ·æŒ‡å—é¦–é¡µ</a>&nbsp;&nbsp;&middot;&nbsp;&nbsp;ä¸‹ä¸€ä¸ªä¸»é¢˜:&nbsp;&nbsp;<a href="zip.html" tppabs="http://codeigniter.org.cn/user_guide/libraries/zip.html">Zip ç¼–ç ç±»</a>  </p>
  <p><a href="javascript:if(confirm('http://codeigniter.com/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.com/'" tppabs="http://codeigniter.com/">CodeIgniter</a> &nbsp;&middot;&nbsp; ç‰ˆæƒæ‰€æœ‰ &#169; 2006-2013 &nbsp;&middot;&nbsp; <a href="javascript:if(confirm('http://ellislab.com/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://ellislab.com/'" tppabs="http://ellislab.com/">Ellislab, Inc.</a></p>
  <p>ä¸­æ–‡åŒ–: <a href="javascript:if(confirm('http://codeigniter.org.cn/  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://codeigniter.org.cn/'" tppabs="http://codeigniter.org.cn/">CodeIgniter ä¸­å›½</a> &nbsp;&middot;&nbsp; åˆ¶ä½œ: Hex &nbsp;&middot;&nbsp; ç‰ˆæœ¬: 1.30 &nbsp;&middot;&nbsp; é¸£è°¢: å­éé±¼</p>
</div>
<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-272152-3']);
_gaq.push(['_addOrganic', 'baidu', 'word']);
_gaq.push(['_addOrganic', 'soso', 'w']);
_gaq.push(['_addOrganic', '3721', 'name']);
_gaq.push(['_addOrganic', 'yodao', 'q']);
_gaq.push(['_addOrganic', 'vnet', 'kw']);
_gaq.push(['_addOrganic', 'sogou', 'query']);
_gaq.push(['_addIgnoredOrganic', 'codeigniter.org.cn']);
_gaq.push(['_trackPageview']);
(function() {
    var ga = document.createElement('script');
    ga.src = (('https:' == document.location.protocol) ? 'https://ssl' : 'http://www/') + '.google-analytics.com/ga.js';
    ga.setAttribute('async', 'true');
    document.documentElement.firstChild.appendChild(ga);
})();
</script>
<div style="display:none"><script language="javascript" type="text/javascript" src="../../../js.users.51.la/3289908.js" tppabs="http://js.users.51.la/3289908.js"></script>
<noscript><a href="javascript:if(confirm('http://www.51.la/?3289908  \n\nÎÄ¼ş²¢Î´ÒÀ Teleport Pro È¡»Ø£¬ÒòÎª ËüµÄÓò»òÂ·¾¶³¬¹ı¿ªÊ¼ÍøÖ·ÖĞÉèÖÃµÄ·¶Î§¡£  \n\nÄãÒª´Ó·şÎñÆ÷ÉÏ´ò¿ªËüÂğ£¿'))window.location='http://www.51.la/?3289908'" tppabs="http://www.51.la/?3289908" target="_blank"><img alt="&#x6211;&#x8981;&#x5566;&#x514D;&#x8D39;&#x7EDF;&#x8BA1;" src="../../../web.51.la/go.asp-svid=5&id=3289908&style=-1&vpage=http---codeigniter.org.cn-user_guide-index.html&60478.8.gif" tppabs="http://img.users.51.la/3289908.asp" style="border:none" /></a></noscript></div>
</body>
</html>